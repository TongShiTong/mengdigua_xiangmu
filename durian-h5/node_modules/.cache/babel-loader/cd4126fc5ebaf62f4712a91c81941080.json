{"remainingRequest":"C:\\Users\\abcd\\Desktop\\durian-h5\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\abcd\\Desktop\\durian-h5\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\abcd\\Desktop\\durian-h5\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\abcd\\Desktop\\durian-h5\\src\\store\\user.js","dependencies":[{"path":"C:\\Users\\abcd\\Desktop\\durian-h5\\src\\store\\user.js","mtime":1594643492000},{"path":"C:\\Users\\abcd\\Desktop\\durian-h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\abcd\\Desktop\\durian-h5\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\abcd\\Desktop\\durian-h5\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\abcd\\Desktop\\durian-h5\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:RGF0ZS5wcm90b3R5cGUuYWRkRGF5cyA9IGZ1bmN0aW9uIChkYXlzKSB7CiAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh0aGlzLnZhbHVlT2YoKSk7CiAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgZGF5cyk7CiAgcmV0dXJuIGRhdGU7Cn07CgpleHBvcnQgZnVuY3Rpb24gc2V0VG9rZW4odG9rZW4pIHsKICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCkuYWRkRGF5cyg3KTsKICB2YXIgb2JqID0gSlNPTi5zdHJpbmdpZnkoewogICAgJ3Rva2VuJzogdG9rZW4sCiAgICAnZGF0ZSc6IGRhdGUKICB9KTsKICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidG9rZW4iLCBvYmopOwp9CmV4cG9ydCBmdW5jdGlvbiBnZXRUb2tlbigpIHsKICB2YXIgb2JqID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIik7CgogIGlmIChvYmopIHsKICAgIHZhciBfSlNPTiRwYXJzZSA9IEpTT04ucGFyc2Uob2JqKSwKICAgICAgICB0b2tlbiA9IF9KU09OJHBhcnNlLnRva2VuLAogICAgICAgIGRhdGUgPSBfSlNPTiRwYXJzZS5kYXRlOwoKICAgIHZhciB0aW1lID0gRGF0ZS5wYXJzZShkYXRlKTsKICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpOwoKICAgIGlmIChub3cuZ2V0VGltZSgpID4gdGltZSkgewogICAgICBjbGVhclRva2VuKCk7CiAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gdG9rZW47CiAgICB9CiAgfQoKICByZXR1cm4gdW5kZWZpbmVkOwp9CmV4cG9ydCBmdW5jdGlvbiBjbGVhclRva2VuKCkgewogIHJldHVybiBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidG9rZW4iKTsKfQpleHBvcnQgZnVuY3Rpb24gc2V0UmVjb21lbmRJZChyZWNvbWVuZElkKSB7CiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInJlY29tZW5kSWQiLCByZWNvbWVuZElkKTsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0UmVjb21lbmRJZCgpIHsKICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInJlY29tZW5kSWQiKTsKfQpleHBvcnQgZnVuY3Rpb24gY2xlYXJSZWNvbWVuZElkKCkgewogIHJldHVybiBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgicmVjb21lbmRJZCIpOwp9CmV4cG9ydCBmdW5jdGlvbiBzZXRVc2VySW5mbyh1c2VySW5mbykgewogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VySW5mbyIsIEpTT04uc3RyaW5naWZ5KHVzZXJJbmZvKSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJJbmZvKCkgewogIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySW5mbyIpKTsKfQpleHBvcnQgZnVuY3Rpb24gY2xlYXJVc2VySW5mbygpIHsKICByZXR1cm4gbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInVzZXJJbmZvIik7Cn0="},{"version":3,"sources":["C:/Users/abcd/Desktop/durian-h5/src/store/user.js"],"names":["Date","prototype","addDays","days","date","valueOf","setDate","getDate","setToken","token","obj","JSON","stringify","localStorage","setItem","getToken","getItem","parse","time","now","getTime","clearToken","undefined","removeItem","setRecomendId","recomendId","getRecomendId","clearRecomendId","setUserInfo","userInfo","getUserInfo","clearUserInfo"],"mappings":"AAAAA,IAAI,CAACC,SAAL,CAAeC,OAAf,GAAyB,UAASC,IAAT,EAAe;AACtC,MAAIC,IAAI,GAAG,IAAIJ,IAAJ,CAAS,KAAKK,OAAL,EAAT,CAAX;AACAD,EAAAA,IAAI,CAACE,OAAL,CAAaF,IAAI,CAACG,OAAL,KAAiBJ,IAA9B;AACA,SAAOC,IAAP;AACD,CAJD;;AAMA,OAAO,SAASI,QAAT,CAAkBC,KAAlB,EAAyB;AAC9B,MAAML,IAAI,GAAG,IAAIJ,IAAJ,GAAWE,OAAX,CAAmB,CAAnB,CAAb;AACA,MAAMQ,GAAG,GAAGC,IAAI,CAACC,SAAL,CAAe;AAAC,aAASH,KAAV;AAAiB,YAAOL;AAAxB,GAAf,CAAZ;AACAS,EAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,GAA9B;AACD;AAED,OAAO,SAASK,QAAT,GAAoB;AACzB,MAAML,GAAG,GAAGG,YAAY,CAACG,OAAb,CAAqB,OAArB,CAAZ;;AACA,MAAGN,GAAH,EAAO;AAAA,sBACiBC,IAAI,CAACM,KAAL,CAAWP,GAAX,CADjB;AAAA,QACED,KADF,eACEA,KADF;AAAA,QACSL,IADT,eACSA,IADT;;AAEL,QAAMc,IAAI,GAAGlB,IAAI,CAACiB,KAAL,CAAWb,IAAX,CAAb;AACA,QAAMe,GAAG,GAAG,IAAInB,IAAJ,EAAZ;;AACA,QAAGmB,GAAG,CAACC,OAAJ,KAAgBF,IAAnB,EAAwB;AACtBG,MAAAA,UAAU;AACV,aAAOC,SAAP;AACD,KAHD,MAGK;AACH,aAAOb,KAAP;AACD;AACF;;AACD,SAAOa,SAAP;AACD;AAED,OAAO,SAASD,UAAT,GAAsB;AAC3B,SAAOR,YAAY,CAACU,UAAb,CAAwB,OAAxB,CAAP;AACD;AAED,OAAO,SAASC,aAAT,CAAuBC,UAAvB,EAAmC;AACxCZ,EAAAA,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCW,UAAnC;AACD;AAED,OAAO,SAASC,aAAT,GAAyB;AAC9B,SAAOb,YAAY,CAACG,OAAb,CAAqB,YAArB,CAAP;AACD;AAED,OAAO,SAASW,eAAT,GAA2B;AAChC,SAAOd,YAAY,CAACU,UAAb,CAAwB,YAAxB,CAAP;AACD;AAED,OAAO,SAASK,WAAT,CAAqBC,QAArB,EAA+B;AACpChB,EAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCH,IAAI,CAACC,SAAL,CAAeiB,QAAf,CAAjC;AACD;AAED,OAAO,SAASC,WAAT,GAAuB;AAC5B,SAAOnB,IAAI,CAACM,KAAL,CAAWJ,YAAY,CAACG,OAAb,CAAqB,UAArB,CAAX,CAAP;AACD;AAED,OAAO,SAASe,aAAT,GAAyB;AAC9B,SAAOlB,YAAY,CAACU,UAAb,CAAwB,UAAxB,CAAP;AACD","sourcesContent":["Date.prototype.addDays = function(days) {\r\n  var date = new Date(this.valueOf());\r\n  date.setDate(date.getDate() + days);\r\n  return date;\r\n}\r\n\r\nexport function setToken(token) {\r\n  const date = new Date().addDays(7);\r\n  const obj = JSON.stringify({'token': token, 'date':date});\r\n  localStorage.setItem(\"token\", obj);\r\n}\r\n\r\nexport function getToken() {\r\n  const obj = localStorage.getItem(\"token\");\r\n  if(obj){\r\n    const {token, date} = JSON.parse(obj);\r\n    const time = Date.parse(date);\r\n    const now = new Date();\r\n    if(now.getTime() > time){\r\n      clearToken();\r\n      return undefined;\r\n    }else{\r\n      return token;\r\n    }\r\n  }\r\n  return undefined;\r\n}\r\n\r\nexport function clearToken() {\r\n  return localStorage.removeItem(\"token\");\r\n}\r\n\r\nexport function setRecomendId(recomendId) {\r\n  localStorage.setItem(\"recomendId\", recomendId);\r\n}\r\n\r\nexport function getRecomendId() {\r\n  return localStorage.getItem(\"recomendId\");\r\n}\r\n\r\nexport function clearRecomendId() {\r\n  return localStorage.removeItem(\"recomendId\");\r\n}\r\n\r\nexport function setUserInfo(userInfo) {\r\n  localStorage.setItem(\"userInfo\", JSON.stringify(userInfo));\r\n}\r\n\r\nexport function getUserInfo() {\r\n  return JSON.parse(localStorage.getItem(\"userInfo\"));\r\n}\r\n\r\nexport function clearUserInfo() {\r\n  return localStorage.removeItem(\"userInfo\");\r\n}\r\n"]}]}