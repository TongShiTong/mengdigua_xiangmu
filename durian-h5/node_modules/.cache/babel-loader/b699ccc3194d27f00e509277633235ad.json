{"remainingRequest":"C:\\Users\\abcd\\Desktop\\durian-h5\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\abcd\\Desktop\\durian-h5\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\abcd\\Desktop\\durian-h5\\src\\router\\index.js","dependencies":[{"path":"C:\\Users\\abcd\\Desktop\\durian-h5\\src\\router\\index.js","mtime":1597741242462},{"path":"C:\\Users\\abcd\\Desktop\\durian-h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\abcd\\Desktop\\durian-h5\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\abcd\\Desktop\\durian-h5\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgVnVlUm91dGVyIGZyb20gInZ1ZS1yb3V0ZXIiOwppbXBvcnQgeyBnZXRSZWNvbWVuZElkLCBzZXRSZWNvbWVuZElkLCBjbGVhclRva2VuIH0gZnJvbSAiLi4vc3RvcmUvdXNlciI7CmltcG9ydCByZXN0b3JlVXJsIGZyb20gIi4uL3V0aWxzL3Jlc3RvcmVVcmwiOwpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciByb3V0ZXMgPSBbewogIHBhdGg6ICIvbG9naW4iLAogIG5hbWU6ICJMb2dpbiIsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQocmVzb2x2ZSkgewogICAgcmV0dXJuIHJlcXVpcmUoWydAL3ZpZXdzL0xvZ2luJ10sIHJlc29sdmUpOwogIH0KfSwgewogIHBhdGg6ICIvIiwKICBuYW1lOiAiSG9tZSIsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQocmVzb2x2ZSkgewogICAgcmV0dXJuIHJlcXVpcmUoWydAL3ZpZXdzL0hvbWUnXSwgcmVzb2x2ZSk7CiAgfSAvLyByb3V0ZSBsZXZlbCBjb2RlLXNwbGl0dGluZwogIC8vIHRoaXMgZ2VuZXJhdGVzIGEgc2VwYXJhdGUgY2h1bmsgKGFib3V0LltoYXNoXS5qcykgZm9yIHRoaXMgcm91dGUKICAvLyB3aGljaCBpcyBsYXp5LWxvYWRlZCB3aGVuIHRoZSByb3V0ZSBpcyB2aXNpdGVkLgogIC8vIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tDaHVua05hbWU6ICJhYm91dCIgKi8gJy4uL3ZpZXdzL0Fib3V0LnZ1ZScpCgp9LCB7CiAgcGF0aDogIi93ZWIiLAogIG5hbWU6ICJXZWIiLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KHJlc29sdmUpIHsKICAgIHJldHVybiByZXF1aXJlKFsnQC92aWV3cy9XZWInXSwgcmVzb2x2ZSk7CiAgfQp9LCB7CiAgcGF0aDogIi93ZWl4aW4iLAogIG5hbWU6ICJ3ZWl4aW4iLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KHJlc29sdmUpIHsKICAgIHJldHVybiByZXF1aXJlKFsnQC92aWV3cy9XZWl4aW4nXSwgcmVzb2x2ZSk7CiAgfQp9LCB7CiAgcGF0aDogIi9ydWxlIiwKICBuYW1lOiAicnVsZSIsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQocmVzb2x2ZSkgewogICAgcmV0dXJuIHJlcXVpcmUoWydAL3ZpZXdzL1J1bGUnXSwgcmVzb2x2ZSk7CiAgfQp9LCB7CiAgcGF0aDogIi90aXBzIiwKICBuYW1lOiAidGlwcyIsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQocmVzb2x2ZSkgewogICAgcmV0dXJuIHJlcXVpcmUoWydAL3ZpZXdzL1RpcHMnXSwgcmVzb2x2ZSk7CiAgfQp9XTsKdmFyIHJvdXRlciA9IG5ldyBWdWVSb3V0ZXIoewogIHJvdXRlczogcm91dGVzCn0pOwovKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqLwoKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgLy8g5b6u5L+h5YiG5Lqr5pe277yM5b6u5L+h5Lya5Zyo5Zyw5Z2A5qCP5re75Yqg6aKd5aSW5Y+C5pWwCiAgaWYgKHJlc3RvcmVVcmwuaXNXZUNoYXRVcmwoKSkgewogICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSByZXN0b3JlVXJsLmdldFByb2plY3RVcmwoKTsKICB9CgogIHZhciByZWNvbWVuZElkID0gZ2V0UmVjb21lbmRJZCgpOwoKICBpZiAocmVzdG9yZVVybC5nZXRSZWNvbWVuZElkKCkpIHsKICAgIGlmIChyZXN0b3JlVXJsLmdldFJlY29tZW5kSWQoKSAhPT0gcmVjb21lbmRJZCkgewogICAgICBjbGVhclRva2VuKCk7CiAgICB9CgogICAgc2V0UmVjb21lbmRJZChyZXN0b3JlVXJsLmdldFJlY29tZW5kSWQoKSk7CiAgfSAvLyBpZiAoIXJlY29tZW5kSWQpIHsKICAvLyAgIHJlY29tZW5kSWQgPSByZXN0b3JlVXJsLmdldFJlY29tZW5kSWQoKTsKICAvLyAgIGlmIChyZWNvbWVuZElkKSB7CiAgLy8gICAgIHNldFJlY29tZW5kSWQocmVjb21lbmRJZCk7CiAgLy8gICB9CiAgLy8gfQoKCiAgbmV4dCgpOwp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["C:/Users/abcd/Desktop/durian-h5/src/router/index.js"],"names":["Vue","VueRouter","getRecomendId","setRecomendId","clearToken","restoreUrl","use","routes","path","name","component","resolve","require","router","beforeEach","to","from","next","isWeChatUrl","window","location","href","getProjectUrl","recomendId"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,aAAT,EAAwBC,aAAxB,EAAuCC,UAAvC,QAAyD,eAAzD;AAEA,OAAOC,UAAP,MAAuB,qBAAvB;AAGAL,GAAG,CAACM,GAAJ,CAAQL,SAAR;AAEA,IAAMM,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,IAAI,EAAE,OAFR;AAGEC,EAAAA,SAAS,EAAE,mBAAAC,OAAO;AAAA,WAAIC,OAAO,CAAC,CAAC,eAAD,CAAD,EAAmBD,OAAnB,CAAX;AAAA;AAHpB,CADa,EAMb;AACEH,EAAAA,IAAI,EAAE,GADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,SAAS,EAAE,mBAAAC,OAAO;AAAA,WAAIC,OAAO,CAAC,CAAC,cAAD,CAAD,EAAkBD,OAAlB,CAAX;AAAA,GAHpB,CAIE;AACA;AACA;AACA;;AAPF,CANa,EAeb;AACEH,EAAAA,IAAI,EAAE,MADR;AAEEC,EAAAA,IAAI,EAAE,KAFR;AAGEC,EAAAA,SAAS,EAAE,mBAAAC,OAAO;AAAA,WAAIC,OAAO,CAAC,CAAC,aAAD,CAAD,EAAiBD,OAAjB,CAAX;AAAA;AAHpB,CAfa,EAoBb;AACEH,EAAAA,IAAI,EAAE,SADR;AAEEC,EAAAA,IAAI,EAAE,QAFR;AAGEC,EAAAA,SAAS,EAAE,mBAAAC,OAAO;AAAA,WAAIC,OAAO,CAAC,CAAC,gBAAD,CAAD,EAAoBD,OAApB,CAAX;AAAA;AAHpB,CApBa,EAyBb;AACEH,EAAAA,IAAI,EAAE,OADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,SAAS,EAAE,mBAAAC,OAAO;AAAA,WAAIC,OAAO,CAAC,CAAC,cAAD,CAAD,EAAkBD,OAAlB,CAAX;AAAA;AAHpB,CAzBa,EA6BX;AACAH,EAAAA,IAAI,EAAE,OADN;AAEAC,EAAAA,IAAI,EAAE,MAFN;AAGAC,EAAAA,SAAS,EAAE,mBAAAC,OAAO;AAAA,WAAIC,OAAO,CAAC,CAAC,cAAD,CAAD,EAAkBD,OAAlB,CAAX;AAAA;AAHlB,CA7BW,CAAf;AAoCA,IAAME,MAAM,GAAG,IAAIZ,SAAJ,CAAc;AAC3BM,EAAAA,MAAM,EAANA;AAD2B,CAAd,CAAf;AAIA;;AACAM,MAAM,CAACC,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC;AACA,MAAIZ,UAAU,CAACa,WAAX,EAAJ,EAA8B;AAC5BC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBhB,UAAU,CAACiB,aAAX,EAAvB;AACD;;AAGD,MAAIC,UAAU,GAAGrB,aAAa,EAA9B;;AACA,MAAGG,UAAU,CAACH,aAAX,EAAH,EAA+B;AAC7B,QAAGG,UAAU,CAACH,aAAX,OAA6BqB,UAAhC,EAA4C;AAC1CnB,MAAAA,UAAU;AACX;;AACDD,IAAAA,aAAa,CAACE,UAAU,CAACH,aAAX,EAAD,CAAb;AACD,GAbmC,CAcpC;AACA;AACA;AACA;AACA;AACA;;;AAEAe,EAAAA,IAAI;AACL,CAtBD;AAwBA,eAAeJ,MAAf","sourcesContent":["import Vue from \"vue\";\r\nimport VueRouter from \"vue-router\";\r\nimport { getRecomendId, setRecomendId, clearToken } from \"../store/user\";\r\n\r\nimport restoreUrl from \"../utils/restoreUrl\";\r\n\r\n\r\nVue.use(VueRouter);\r\n\r\nconst routes = [\r\n  {\r\n    path: \"/login\",\r\n    name: \"Login\",\r\n    component: resolve => require(['@/views/Login'],resolve),\r\n  },\r\n  {\r\n    path: \"/\",\r\n    name: \"Home\",\r\n    component: resolve => require(['@/views/Home'],resolve),\r\n    // route level code-splitting\r\n    // this generates a separate chunk (about.[hash].js) for this route\r\n    // which is lazy-loaded when the route is visited.\r\n    // component: () => import(/* webpackChunkName: \"about\" */ '../views/About.vue')\r\n  },\r\n  {\r\n    path: \"/web\",\r\n    name: \"Web\",\r\n    component: resolve => require(['@/views/Web'],resolve),\r\n  },\r\n  {\r\n    path: \"/weixin\",\r\n    name: \"weixin\",\r\n    component: resolve => require(['@/views/Weixin'],resolve),\r\n  },\r\n  {\r\n    path: \"/rule\",\r\n    name: \"rule\",\r\n    component: resolve => require(['@/views/Rule'],resolve),\r\n  },{\r\n    path: \"/tips\",\r\n    name: \"tips\",\r\n    component: resolve => require(['@/views/Tips'],resolve),\r\n  },\r\n];\r\n\r\nconst router = new VueRouter({\r\n  routes,\r\n});\r\n\r\n/* eslint-disable no-unused-vars */\r\nrouter.beforeEach((to, from, next) => {\r\n  // 微信分享时，微信会在地址栏添加额外参数\r\n  if (restoreUrl.isWeChatUrl()) {\r\n    window.location.href = restoreUrl.getProjectUrl();\r\n  }\r\n\r\n \r\n  let recomendId = getRecomendId();\r\n  if(restoreUrl.getRecomendId()) {\r\n    if(restoreUrl.getRecomendId()!==recomendId) {\r\n      clearToken();\r\n    }\r\n    setRecomendId(restoreUrl.getRecomendId());\r\n  }\r\n  // if (!recomendId) {\r\n  //   recomendId = restoreUrl.getRecomendId();\r\n  //   if (recomendId) {\r\n  //     setRecomendId(recomendId);\r\n  //   }\r\n  // }\r\n\r\n  next();\r\n});\r\n\r\nexport default router;\r\n"]}]}